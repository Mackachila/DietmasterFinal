<!-- close-deletion-form-send-card +8g from it is -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DietMaster - Meal Recommendation System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="account2.css">
    <link rel="stylesheet" href="updateforms.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
         input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        input:focus {
            outline: none;
            border-color: lightseagreen;
            box-shadow: 0 0 0 2px rgba(32, 178, 170, 0.2);
        }

        .submit-btn {
            width: 100%;
            padding: 0.75rem;
            background-color: lightseagreen;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 1rem;
        }
        
        .submit-btn:hover {
            background-color: #1a9e92;
        }

        #analysisMessage{
          background-color: rgb(215, 212, 212);
          color: lightseagreen;
          padding: 14px;
          border-radius: 7px;
          text-align: center;
        }


        /* Report Page Specific Styles */
        .report-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            padding: 1rem;
        }

        .report-section {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .report-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }

        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eaeaea;
        }

        .report-header h2 {
            font-size: 1.5rem;
            color: #333;
            margin: 0;
        }

        .report-form {
            display: grid;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .report-submit-btn {
            background-color: #4a90e2;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 1rem;
            justify-self: start;
        }

        .report-submit-btn:hover {
            background-color: #3a7bc8;
        }

        .report-list {
            margin-top: 2rem;
        }

        .report-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .report-list-header h3 {
            margin: 0;
            font-size: 1.2rem;
            color: #333;
        }

        .report-filters {
            display: flex;
            gap: 0.5rem;
        }

        .report-filter-btn {
            padding: 0.5rem 1rem;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .report-filter-btn.active {
            background-color: #4a90e2;
            color: white;
            border-color: #4a90e2;
        }

        .report-filter-btn:hover:not(.active) {
            background-color: #e9e9e9;
        }

        .report-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 1.2rem;
            margin-bottom: 1rem;
            transition: transform 0.2s ease;
            border-left: 4px solid #4a90e2;
        }

        .report-card:hover {
            transform: translateX(5px);
        }

        .report-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .report-recipient {
            font-weight: 600;
            color: #333;
        }

        .report-date {
            font-size: 0.8rem;
            color: #777;
        }

        .report-content {
            color: #555;
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 0.8rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .report-actions {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }

        .report-action-btn {
            background-color: transparent;
            border: none;
            color: #4a90e2;
            cursor: pointer;
            font-size: 0.9rem;
            padding: 0.3rem 0.5rem;
            transition: color 0.2s ease;
        }

        .report-action-btn:hover {
            color: #3a7bc8;
            text-decoration: underline;
        }

        .report-action-btn.delete {
            color: #e74c3c;
        }

        .report-action-btn.delete:hover {
            color: #c0392b;
        }

        .report-empty {
            text-align: center;
            padding: 2rem;
            color: #777;
            font-style: italic;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .pagination-btn {
            padding: 0.4rem 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .pagination-btn.active {
            background-color: #4a90e2;
            color: white;
            border-color: #4a90e2;
        }

        .pagination-btn:hover:not(.active) {
            background-color: #f5f5f5;
        }

        .report-status {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .report-status.sent {
            background-color: #e3f2fd;
            color: #1976d2;
        }

        .report-status.read {
            background-color: #e8f5e9;
            color: #2e7d32;
        }

        .report-status.unread {
            background-color: #fff3e0;
            color: #ef6c00;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .report-container {
                padding: 0.5rem;
            }

            .report-section {
                padding: 1rem;
            }

            .report-header h2 {
                font-size: 1.3rem;
            }

            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 0.7rem;
            }

            .report-submit-btn {
                padding: 0.7rem 1.2rem;
                font-size: 0.95rem;
            }

            .report-card {
                padding: 1rem;
            }
        }

        /* Modal styles for report details */
        .report-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .report-modal.show {
            display: block;
            opacity: 1;
        }

        .report-modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 90%;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .report-modal.show .report-modal-content {
            transform: translateY(0);
        }

        .report-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eaeaea;
        }

        .report-modal-header h3 {
            margin: 0;
            font-size: 1.3rem;
            color: #333;
        }

        .report-modal-close {
            background: transparent;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
            transition: color 0.2s ease;
        }

        .report-modal-close:hover {
            color: #333;
        }

        .report-modal-body {
            margin-bottom: 1.5rem;
        }

        .report-modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }

        .report-modal-btn {
            padding: 0.6rem 1.2rem;
            border-radius: 4px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .report-modal-btn.primary {
            background-color: #4a90e2;
            color: white;
            border: none;
        }

        .report-modal-btn.primary:hover {
            background-color: #3a7bc8;
        }

        .report-modal-btn.secondary {
            background-color: #f5f5f5;
            color: #333;
            border: 1px solid #ddd;
        }

        .report-modal-btn.secondary:hover {
            background-color: #e9e9e9;
        }

        .report-detail-item {
            margin-bottom: 1rem;
        }

        .report-detail-label {
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .report-detail-value {
            color: #333;
            font-size: 1rem;
            line-height: 1.5;
        }

        /* Search bar styles */
        .report-search {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .report-search input {
            flex-grow: 1;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.95rem;
        }

        .report-search button {
            background-color: #4a90e2;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0 1rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .report-search button:hover {
            background-color: #3a7bc8;
        }

        /* Success message styles */
        .success-message {
            display: none;
            background-color: #e8f5e9;
            color: #2e7d32;
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }


   


/* Edit Modal Styles */
.edit-report-modal .report-modal-content {
    max-width: 650px;
}

.report-edit-item {
    margin-bottom: 16px;
}

.report-edit-item label {
    display: block;
    font-weight: bold;
    margin-bottom: 6px;
    color: #555;
}

.report-edit-item input,
.report-edit-item textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: inherit;
    font-size: 0.95rem;
    transition: border-color 0.2s;
}

.report-edit-item input:focus,
.report-edit-item textarea:focus {
    border-color: #4a6fdc;
    outline: none;
    box-shadow: 0 0 0 2px rgba(74, 111, 220, 0.2);
}

.report-edit-item textarea {
    resize: vertical;
    min-height: 120px;
}

/* Report Card Action Buttons */
.report-actions {
    display: flex;
    gap: 8px;
    margin-top: 12px;
}

.report-action-btn {
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
    border: none;
    display: flex;
    align-items: center;
    gap: 5px;
    transition: all 0.2s;
}

.report-action-btn.view {
    background-color: #e8f0fe;
    color: #1a56db;
}

.report-action-btn.view:hover {
    background-color: #d0e0fd;
}

.report-action-btn.edit {
    background-color: #e9f7ef;
    color: #16a34a;
}

.report-action-btn.edit:hover {
    background-color: #d1f0de;
}

.report-action-btn.delete {
    background-color: #fef2f2;
    color: #dc2626;
}

.report-action-btn.delete:hover {
    background-color: #fee2e2;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .report-modal-content {
        width: 90%;
        max-width: none;
    }
    
    .report-actions {
        flex-wrap: wrap;
    }
    
    .report-action-btn {
        flex: 1;
        min-width: 80px;
        justify-content: center;
    }
}


/* Pagination Styles */
.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 20px;
    gap: 8px;
}

.pagination-btn {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 36px;
    height: 36px;
    border-radius: 6px;
    border: 1px solid #e0e0e0;
    background-color: white;
    color: #333;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.pagination-btn:hover:not(.active):not(.disabled) {
    background-color: #f5f5f5;
    border-color: #d0d0d0;
}

.pagination-btn.active {
    background-color: #4a6fdc;
    color: white;
    border-color: #4a6fdc;
    font-weight: bold;
}

.pagination-btn.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Add space between reports and pagination */
#report-list {
    margin-bottom: 20px;
}

/* Loading indicator for pagination */
.reports-loading {
    text-align: center;
    padding: 20px;
    color: #666;
}


    </style>
</head>
<body>
    <!-- Navbar -->
    <nav>
      <div class="logo-container">
        <div class="logo">
          
            <img src="logo.png" alt="Logo">
       
        </div>
        <div class="company-name">DietMaster</div>
    </div>
        <div class="nav-links">
            <!-- <a href="/schedule" class="active">Schedule</a> -->
            <a href="/add_meal">Add/ Delete Meal</a>
            <a href="/doctor_account">Meal Plans</a>
            <a href="/doctor_analysis">Analysis</a>
            <a href="/home#about">About</a>
            <a href="home#contact">Contact</a>
        </div>
        <div class="profile-nav">
            <div class="profile-image">
                <span id="navinitials"></span>
            </div>
        </div>
        <div class="hamburger" id="menu-toggle">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </nav>

    <!-- Profile Sidebar Toggle Button -->
    <div class="profile-toggle" id="profile-toggle">
        <span>≡</span>
    </div>

    <!-- Main Container -->
<!-- recommendation error -->

<div id="recommend-floating-card" class="hidden">
    <b id="close-card-btn">X</b>
      <img src="error.png" alt="Error" class="error-image">
    <p id="recommend-floating-card-message"></p>
  </div>

  <!-- Loading spinner and overlay configurations -->
    <div id="loading-overlay" class="loading-overlay">Getting Recommendation. Please wait...
      <div class="spinner"></div>
    </div>
    <div class="container">
        <!-- Profile Sidebar -->
        <div class="profile-sidebar" id="profile-sidebar">
            <div class="profile-header">
                <div class="profile-pic">
                    <span id="dpinnitials"></span>
                </div>
                
                <h2 class="profile-name" id="dashboard-heading">Loading...</h2>
                <p class="profile-email" id="emailContent">Loading...</p>
                <p class="profile-email" id="contactContent">Loading...</p>
            </div>
            
            <div class="sidebar-links">
                <div class="sidebar-link active" style="background-color: lightgray; border-radius: 7px;">
                    <i>📊</i>
                    <span>Dashboard</span>
                </div>
                
                <div class="sidebar-link">
                  <i>🍴</i>
                  <span>Favorites</span>
                  <div class="section-content" id="favoritemealsContent">
                      <p>Here are your favorite meals and dietary preferences.</p>
                  </div>
              </div>
              <div class="sidebar-link">
                  <i>🦠</i>
                  <span>Alergies</span>
                  <div class="section-content" id="allergiesContent">
                      <p>Information about your allergies and food sensitivities.</p>
                  </div>
              </div>
              <div class="sidebar-link">
                  <i>⚕️</i>
                  <span>Health Conditions</span>
                  <div class="section-content" id="healthconditionContent">
                      <p>Details about your health conditions and special requirements.</p>
                  </div>
              </div>
              <div class="sidebar-link">
                  <i>🍼</i>
                  <span>Current Age</span>
                  <div class="section-content" id="ageContent">
                      <p>Your current age and age-related dietary recommendations.</p>
                  </div>
              </div>
                
            </div>
            <div class="logout-btn"  id="logout">
                <i>🚪</i>
                <span>Logout</span>
            </div>
        </div>

        <!-- Main All -->
        <div class="main-content">
            <div class="content-header">
                <h1>Doctor Reports</h1>
                <p>Create and manage health reports for your patients</p>
            </div>

            <div class="report-container">
                <!-- Success Message -->
                

                <!-- Create New Report Section -->
                <div class="report-section">
                    <div class="report-header">
                        <h2>Create New Report</h2>
                    </div>
                    <form class="report-form" id="new-report-form">
                        <div class="form-group">
                            <label for="patient-select">Recipient Email</label>
                            <input type="email" id="patient-select" placeholder="Enter email of the recipient" required>
                                                       </div>
                        <div class="form-group">
                            <label for="report-title">Report Title</label>
                            <input type="text" id="report-title" placeholder="Enter report title. e.g Recommendation Report " required>
                        </div>
                        <div class="form-group">
                            <label for="report-category">Category</label>
                            <select id="report-category" required>
                                <option value="" disabled selected>Select a category</option>
                                <option value="Nutrition">Nutrition Report</option>
                                <option value="Progress">Health Progress</option>
                                <option value="Diet">Diet Recommendations</option>
                                <option value="Ellergy">Alergy Reports</option>
                                <option value="Checkup">Regular Checkup</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="report-content">Report Content</label>
                            <textarea id="report-content" placeholder="Enter detailed report information..." required></textarea>
                        </div>
                        <button type="submit" class="report-submit-btn">Send Report</button>

                        <div class="success-message" id="success-message">
                            
                        </div>
                    </form>
                </div>

                <!-- Previous Reports Section -->
                <div class="report-section">
                    <div class="report-header">
                        <h2>Previous Reports</h2>
                    </div>

                    <div class="report-search">
                        <input type="text" id="report-search" placeholder="Search reports using category e.g Diet, nutrition, Progress e.tc">
                        <button type="button"><i class="fas fa-search"></i></button>
                    </div>

                    <div class="report-list-header">
                        <h3>Recent Reports</h3>
                        <div class="report-filters">
                            <button class="report-filter-btn active" data-filter="all">All</button>
                            <button class="report-filter-btn" data-filter="Progress">Progress</button>
                            <button class="report-filter-btn" data-filter="Diet">Diet</button>
                            <button class="report-filter-btn" data-filter="Nutrition">Nutrition</button>
                            
                            
                        </div>
                    </div>

                    <div class="report-list" id="report-list">
                     No recent Reports
                       
                    </div>

                    <div class="pagination">
                        <button class="pagination-btn"><i class="fas fa-chevron-left"></i></button>
                        <button class="pagination-btn active">1</button>
                        <button class="pagination-btn">2</button>
                        <button class="pagination-btn">3</button>
                        <button class="pagination-btn"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report View Modal -->
    <div class="report-modal" id="report-modal">
        <div class="report-modal-content">
            <div class="report-modal-header">
                <h3>Report Details</h3>
                <button class="report-modal-close" id="report-modal-close">&times;</button>
            </div>
            <div class="report-modal-body">
                <div class="report-detail-item">
                    <div class="report-detail-label">Patient</div>
                    <div class="report-detail-value" id="modal-patient">John Doe</div>
                </div>
                <div class="report-detail-item">
                    <div class="report-detail-label">Date</div>
                    <div class="report-detail-value" id="modal-date">Mar 15, 2025</div>
                </div>
                <div class="report-detail-item">
                    <div class="report-detail-label">Title</div>
                    <div class="report-detail-value" id="modal-title">Monthly Progress Report</div>
                </div>
                <div class="report-detail-item">
                    <div class="report-detail-label">Category</div>
                    <div class="report-detail-value" id="modal-category">Progress Report</div>
                </div>
                <div class="report-detail-item">
                    <div class="report-detail-label">Status</div>
                    <div class="report-detail-value" id="modal-status">Read on Mar 16, 2025</div>
                </div>
                <div class="report-detail-item">
                    <div class="report-detail-label">Content</div>
                    <div class="report-detail-value" id="modal-content">Patient has shown significant improvement in their diet adherence. Weight loss is consistent with our targets. Blood pressure has also improved from previous readings.</div>
                </div>
            </div>
            <div class="report-modal-footer">
                <button class="report-modal-btn secondary" id="report-modal-close-btn">Close</button>
                <button class="report-modal-btn primary" id="report-print-btn">Print Report</button>
            </div>
        </div>
    </div>
           

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>NutriMeal</h3>
                    <p>Your personalized meal recommendation system for healthier eating habits and nutritional goals.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#">Dashboard</a></li>
                        <li><a href="#">Meal Plans</a></li>
                        <li><a href="#">Recipes</a></li>
                        <li><a href="#">Nutrition Facts</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Newsletter</h3>
                    <p>Subscribe to our newsletter for nutrition tips and updates.</p>
                    <form class="search-form">
                        <input type="email" class="search-input" placeholder="Your email">
                        <button type="submit" class="search-btn">→</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 NutriMeal. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script src="doctoraccount.js"></script> 
    <script src="reports.js"></script> 

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle profile sidebar
            const profileToggle = document.getElementById('profile-toggle');
            const profileSidebar = document.getElementById('profile-sidebar');
            const menuToggle = document.getElementById('menu-toggle');
            const navLinks = document.querySelector('.nav-links');

            profileToggle.addEventListener('click', function() {
                profileSidebar.classList.toggle('active');
            });

            menuToggle.addEventListener('click', function() {
                navLinks.classList.toggle('active');
            });

           

            // Filter reports
            const filterButtons = document.querySelectorAll('.report-filter-btn');
            const reportCards = document.querySelectorAll('.report-card');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    
                    // Show/hide cards based on filter
                    reportCards.forEach(card => {
                        if (filter === 'all' || card.getAttribute('data-category') === filter) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });

            // Search functionality
            const searchInput = document.getElementById('report-search');
            
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                
                reportCards.forEach(card => {
                    const cardText = card.textContent.toLowerCase();
                    if (cardText.includes(searchTerm) || searchTerm === '') {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });

            // Modal functionality
            const reportModal = document.getElementById('report-modal');
            const viewButtons = document.querySelectorAll('.report-action-btn.view');
            const modalClose = document.getElementById('report-modal-close');
            const modalCloseBtn = document.getElementById('report-modal-close-btn');
            
            viewButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // In a real app, you would fetch the report details here
                    // For demo, we'll just show the modal
                    reportModal.classList.add('show');
                });
            });
            
            modalClose.addEventListener('click', function() {
                reportModal.classList.remove('show');
            });
            
            modalCloseBtn.addEventListener('click', function() {
                reportModal.classList.remove('show');
            });

            // Delete report functionality
            const deleteButtons = document.querySelectorAll('.report-action-btn.delete');
            
            deleteButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (confirm('Are you sure you want to delete this report?')) {
                        // In a real app, you would delete the report here
                        // For demo, we'll just remove the card from the DOM
                        const card = this.closest('.report-card');
                        card.remove();
                    }
                });
            });

            // Print report functionality
            const printBtn = document.getElementById('report-print-btn');
            
            printBtn.addEventListener('click', function() {
                // In a real app, you would format and print the report here
                window.print();
            });

            // Pagination functionality
            const paginationButtons = document.querySelectorAll('.pagination-btn');
            
            paginationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    paginationButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // In a real app, you would fetch a different page of reports here
                });
            });

            // // User profile info (in a real app, this would come from the server)
            // function populateUserData() {
            //     const dashboardHeading = document.getElementById('dashboard-heading');
            //     const emailContent = document.getElementById('emailContent');
            //     const contactContent = document.getElementById('contactContent');
            //     const navInitials = document.getElementById('navinitials');
            //     const dpInitials = document.getElementById('dpinnitials');
                
            //     // Sample doctor data
            //     const doctorName = "Dr. Sarah Johnson";
            //     const doctorEmail = "sarah.johnson@dietmaster.com";
            //     const doctorContact = "+1 (555) 123-4567";
                
            //     // Set content
            //     dashboardHeading.textContent = doctorName;
            //     emailContent.textContent = doctorEmail;
            //     contactContent.textContent = doctorContact;
                
            //     // Set initials
            //     const initials = doctorName.split(' ').map(name => name[0]).join('');
            //     navInitials.textContent = initials;
            //     dpInitials.textContent = initials;
            // }
            // // User profile info (continued)
            // populateUserData();

            // // Logout functionality
            // const logoutBtn = document.getElementById('logout-btn');
            
            // logoutBtn.addEventListener('click', function(e) {
            //     e.preventDefault();
            //     if (confirm('Are you sure you want to log out?')) {
            //         // In a real app, this would clear the session and redirect to login
            //         window.location.href = '/login';
            //     }
            // });

            // Edit report functionality
            const editButtons = document.querySelectorAll('.report-action-btn.edit');
            
            editButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const reportId = this.getAttribute('data-id');
                    // In a real app, you would redirect to edit page or populate a form
                    alert('Edit functionality for report #' + reportId + ' would open here');
                });
            });

            // Check for new messages periodically
            function checkNewMessages() {
                // In a real app, this would make an API call to check for new messages
                // For demo purposes, we'll just log to console
                console.log('Checking for new messages...');
            }

            // Check every 30 seconds
            setInterval(checkNewMessages, 30000);

            // // Chart for report analytics (if needed)
            // function initializeAnalyticsChart() {
            //     const ctx = document.getElementById('analytics-chart');
                
            //     // If chart container exists
            //     if (ctx) {
            //         new Chart(ctx, {
            //             type: 'line',
            //             data: {
            //                 labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            //                 datasets: [{
            //                     label: 'Reports Sent',
            //                     data: [12, 19, 15, 20, 18, 25],
            //                     borderColor: '#4a90e2',
            //                     backgroundColor: 'rgba(74, 144, 226, 0.1)',
            //                     tension: 0.4
            //                 }, {
            //                     label: 'Reports Read',
            //                     data: [10, 15, 13, 17, 15, 20],
            //                     borderColor: '#2ecc71',
            //                     backgroundColor: 'rgba(46, 204, 113, 0.1)',
            //                     tension: 0.4
            //                 }]
            //             },
            //             options: {
            //                 responsive: true,
            //                 scales: {
            //                     y: {
            //                         beginAtZero: true
            //                     }
            //                 }
            //             }
            //         });
            //     }
            // }

            // Initialize analytics chart if needed
            // initializeAnalyticsChart();
        });

        // Helper function to format dates
        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        // Simulate loading state
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.body.classList.add('loaded');
            }, 500);
        });
    </script>
</body>
</html>

<!-- Patient has shown significant improvement in their diet adherence. Weight loss is consistent with our targets. Blood pressure has also improved from previous readings. -->